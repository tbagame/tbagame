/*! tbagame v1.0 | haovei@qq.com */
!function(a,b){function c(a){return function(b){return Object.prototype.toString.call(b)==="[object "+a+"]"}}function d(a){return a.match(X)[0]}function e(a){for(a=a.replace(Y,"/"),a=a.replace(Z,"$1/");a.match($);)a=a.replace($,"/");return a}function f(a){return a=e(a),ab.test(a)?a=a.slice(0,-1):_.test(a)||(a+=".js"),a.replace(":80/","/")}function g(a){var b=Ib.alias;return b&&Q(b[a])?b[a]:a}function h(a){var b,c=Ib.paths;return c&&(b=a.match(bb))&&Q(c[b[1]])&&(a=c[b[1]]+b[2]),a}function i(a){var b=Ib.vars;return b&&a.indexOf("{")>-1&&(a=a.replace(cb,function(a,c){return Q(b[c])?b[c]:a})),a}function j(a){var b=Ib.map,c=a;if(b)for(var d=0;d<b.length;d++){var e=b[d];if(c=S(e)?e(a)||a:a.replace(e[0],e[1]),c!==a)break}return c}function k(a){return db.test(a)}function l(a){return eb.test(a)}function m(a){return fb.test(a)}function n(a,b){var c;return c=k(a)?a:l(a)?d(b||jb)+a:m(a)?(jb.match(gb)||["/"])[0]+a.substring(1):Ib.base+a}function o(a,b){return a?(a=g(a),a=h(a),a=i(a),a=n(a,b),a=f(a),a=j(a)):""}function p(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function q(a,c,d){var e=sb.test(a),f=hb.createElement(e?"link":"script");if(a+=p(lb).match(/\?.*/)||"",d){var g=S(d)?d(a):d;g&&(f.charset=g)}r(f,c,e),e?(f.rel="stylesheet",f.href=a):(f.async=!0,f.src=a),nb=f,rb?qb.insertBefore(f,rb):qb.appendChild(f),nb=b}function r(a,c,d){var e=d&&(ub||!("onload"in a));return e?(setTimeout(function(){s(a,c)},1),void 0):(a.onload=a.onerror=a.onreadystatechange=function(){tb.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,d||Ib.debug||qb.removeChild(a),a=b,c())},void 0)}function s(a,b){var c,d=a.sheet;if(ub)d&&(c=!0);else if(d)try{d.cssRules&&(c=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(c=!0)}setTimeout(function(){c?b():s(a,b)},20)}function t(){if(nb)return nb;if(ob&&"interactive"===ob.readyState)return ob;for(var a=qb.getElementsByTagName("script"),b=a.length-1;b>=0;b--){var c=a[b];if("interactive"===c.readyState)return ob=c}}function u(a){var b=[];return a.replace(wb,"").replace(vb,function(a,c,d){d&&b.push(d)}),b}function v(a){this.uri=a,this.dependencies=[],this.exports=null,this.status=0}function w(a,b){if(R(a)){for(var c=[],d=0;d<a.length;d++)c[d]=w(a[d],b);return c}var e={id:a,refUri:b};return W("resolve",e),e.uri||o(e.id,b)}function x(b,c){R(b)||(b=[b]),y(b,function(){for(var d=[],e=0;e<b.length;e++)d[e]=F(xb[b[e]]);c&&c.apply(a,d)})}function y(a,b){var c=E(a);if(0===c.length)return b(),void 0;W("load",c);for(var d=c.length,e=d,f=0;d>f;f++)!function(a){function c(b){b||(b=d);var c=E(f.dependencies);0===c.length?b():G(f)?(J(Hb),Hb.length=0,b(!0)):(Bb[a]=c,y(c,b))}function d(a){!a&&f.status<Eb&&(f.status=Eb),0===--e&&b()}var f=xb[a];f.dependencies.length?c(function(b){function c(){d(b)}f.status<Db?z(a,c):c()}):f.status<Db?z(a,c):d()}(c[f])}function z(a,c){function d(){delete yb[f],zb[f]=!0,pb&&(B(a,pb),pb=b);var c,d=Ab[f];for(delete Ab[f];c=d.shift();)c()}xb[a].status=Cb;var e={uri:a};W("fetch",e);var f=e.requestUri||a;if(zb[f])return c(),void 0;if(yb[f])return Ab[f].push(c),void 0;yb[f]=!0,Ab[f]=[c];var g=Ib.charset;W("request",e={uri:a,requestUri:f,callback:d,charset:g}),e.requested||q(e.requestUri,d,g)}function A(a,c,d){1===arguments.length&&(d=a,a=b),!R(c)&&S(d)&&(c=u(d.toString()));var e={id:a,uri:w(a),deps:c,factory:d};if(!e.uri&&hb.attachEvent){var f=t();f?e.uri=f.src:U("Failed to derive: "+d)}W("define",e),e.uri?B(e.uri,e):pb=e}function B(a,c){a=a.replace(a.match(/\?.*/),"");var d=D(a);d.status<Db&&(d.id=c.id||a,d.dependencies=w(c.deps||[],a),d.factory=c.factory,d.factory!==b&&(d.status=Db))}function C(a){function c(b){return w(b,a.uri)}function require(a){return F(xb[c(a)])}if(!a)return null;if(a.status>=Fb)return a.exports;a.status=Fb,require.resolve=c,require.async=function(a,b){return x(c(a),b),require};var d=a.factory,e=S(d)?d(require,a.exports={},a):d;return a.exports=e===b?a.exports:e,a.status=Gb,a.exports}function D(a){return xb[a]||(xb[a]=new v(a))}function E(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d&&D(d).status<Eb&&b.push(d)}return b}function F(a){var b=C(a);return null!==b||a&&sb.test(a.uri)||W("error",a),b}function G(a){var b=Bb[a.uri]||[];if(0===b.length)return!1;if(Hb.push(a.uri),H(b,Hb))return I(b),!0;for(var c=0;c<b.length;c++)if(G(xb[b[c]]))return!0;return Hb.pop(),!1}function H(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)if(b[d]===a[c])return!0;return!1}function I(a){for(var b=Hb[0],c=a.length-1;c>=0;c--)if(a[c]===b){a.splice(c,1);break}}function J(a){a.push(a[0]),U("Circular dependencies: "+a.join(" -> "))}function K(a){var b=Ib.preload,c=b.length;c?x(w(b),function(){b.splice(0,c),K(a)}):a()}function L(a){for(var b in a){var c=a[b];c&&"plugins"===b&&(b="preload",c=M(c));var d=Ib[b];if(d&&P(d))for(var e in c)d[e]=c[e];else R(d)?c=d.concat(c):"base"===b&&(c=f(n(c+"/"))),Ib[b]=c}return W("config",a),O}function M(a){for(var b,c=[];b=a.shift();)c.push(mb+"plugin-"+b);return c}var N=a.Qui;if(!N||!N.version){var O=a.Qui={version:"1.2.1"},P=O.isObject=c("Object"),Q=O.isString=c("String"),R=O.isArray=Array.isArray||c("Array"),S=O.isFunction=c("Function");O.now=Date.now||function(){return+new Date},O.trim=function(a){return a.replace(/^\s*(.*?)\s*$/,"$1")},O.each=function(a,c,d){if(d)if(a.length==b)for(var e in a)c.apply(a,d);else for(var e=0,f=a.length;f>e&&c.apply(a,d)!==!1;e++);else if(a.length)for(var e=0,f=a.length,g=a[0];f>e&&c.call(g,e,g)!==!1;g=a[++e]);else for(var e in a)c.call(a,e,a[e]);return a};var T=O.merge=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e]&&b[e].constructor===Object?T(c[e],b[e]):b[e];return c};O.throttle=function(a,b,c){if(b=b||150,-1===b)return function(){a.apply(c||this,arguments)};var d=O.now();return function(){var e=O.now();e-d>b&&(d=e,a.apply(c||this,arguments))}},O.parseJSON=function(a){if(window.JSON&&window.JSON.parse)return window.JSON.parse(a);if(null===a)return a;var b=/^[\],:{}\s]*$/,c=/(?:^|:|,)(?:\s*\[)+/g,d=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,e=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;return"string"==typeof a&&(a=O.trim(a),a&&b.test(a.replace(d,"@").replace(e,"]").replace(c,"")))?new Function("return "+a)():(O.log("Invalid JSON: "+a,"error"),void 0)},O.stringify=function(a){if(window.JSON)return JSON.stringify(a);var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor==Array,g=arguments.callee;for(c in a)d=a[c],b=typeof d,a.hasOwnProperty(c)&&("string"==b?d='"'+d+'"':"object"==b&&null!==d&&(d=g(d)),e.push((f?"":'"'+c+'":')+String(d)));return(f?"[":"{")+String(e)+(f?"]":"}")};var U=O.log=function(){a.console&&console.log&&("function"==typeof console.log.apply?console.log.apply(console,arguments):console.log(arguments[0]))},V=O.events={};O.on=function(a,b){if(!b)return O;var c=V[a]||(V[a]=[]);return c.push(b),O},O.off=function(a,b){if(!a&&!b)return O.events=V={},O;var c=V[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);else delete V[a];return O};var W=O.emit=function(a,b,c){var d,e=V[a];if(e)for(e=e.slice(),b&&!O.isString(b)&&b.length||(b=[b]);d=e.shift();)d.apply(c||this,b);return O},X=/[^?#]*\//,Y=/\/\.\//g,Z=/([^:\/])\/\/+/g,$=/\/[^/]+\/\.\.\//g,_=/\?|\.(?:css|js)$|\/$/,ab=/#$/,bb=/^([^/:]+)(\/.+)$/,cb=/{([^{]+)}/g,db=/:\//,eb=/^\./,fb=/^\//,gb=/^.*?\/\/.*?\//,hb=document,ib=location,jb=d(ib.href),kb=hb.getElementsByTagName("script"),lb=hb.getElementById("quinode")||kb[kb.length-1],mb=d(p(lb))||jb;O.cwd=function(a){return a?jb=e(a+"/"):jb};var nb,ob,pb,qb=hb.getElementsByTagName("head")[0]||hb.documentElement,rb=qb.getElementsByTagName("base")[0],sb=/\.css(?:\?|$)/i,tb=/^(?:loaded|complete|undefined)$/,ub=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,vb=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,wb=/\\\\/g,xb=O.cache={},yb={},zb={},Ab={},Bb={},Cb=1,Db=2,Eb=3,Fb=4,Gb=5;v.prototype.destroy=function(){delete xb[this.uri],delete zb[this.uri]};var Hb=[];O.use=function(a,b){return K(function(){x(w(a),b)}),O},v.load=x,O.resolve=o,O.define=A,a.define||(a.define=A),O.require=function(a){return(xb[o(a)]||{}).exports};var Ib=L.data={base:function(){var a=mb,b=a.match(/^(.+?\/)(?:qui\/)+(?:\d[^/]+\/)?$/);return b&&(a=b[1]),a}(),charset:"utf-8",preload:[]};O.config=L,L({plugins:function(){var a,b=ib.search.replace(/(qui-\w+)(&|$)/g,"$1=1$2");return b+=" "+hb.cookie,b.replace(/qui-(\w+)=1/g,function(b,c){(a||(a=[])).push(c)}),a}()});var Jb=lb.getAttribute("data-config"),Kb=lb.getAttribute("data-main");if(Jb&&Ib.preload.push(Jb),Kb&&O.use(Kb),N&&N.args)for(var Lb=["define","config","use"],Mb=N.args,Nb=0;Nb<Mb.length;Nb+=2)O[Lb[Mb[Nb]]].apply(O,Mb[Nb+1])}}(this);